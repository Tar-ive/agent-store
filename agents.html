<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Agents - LangChain Agent Store</title>
    <meta name="description" content="Discover 500+ LangChain AI agents. Filter by category, functionality, and complexity to find the perfect agent for your project.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://unpkg.com/splitting@1.0.6/dist/splitting.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/splitting@1.0.6/dist/splitting.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    
    <!-- Custom Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        :root {
            --deep-charcoal: #1a1a1a;
            --warm-white: #fafafa;
            --accent-teal: #2dd4bf;
            --soft-sage: #84cc16;
            --muted-coral: #f87171;
            --gentle-amber: #fbbf24;
            --cool-slate: #64748b;
            --pure-graphite: #374151;
        }
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: var(--warm-white);
            color: var(--deep-charcoal);
            overflow-x: hidden;
        }
        
        .nav-blur {
            backdrop-filter: blur(20px);
            background: rgba(250, 250, 250, 0.9);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, var(--accent-teal), var(--soft-sage));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .filter-sidebar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(45, 212, 191, 0.1);
        }
        
        .agent-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(45, 212, 191, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .agent-card:hover {
            transform: translateY(-8px) rotateX(5deg);
            box-shadow: 0 20px 40px rgba(45, 212, 191, 0.15);
            border-color: var(--accent-teal);
        }
        
        .filter-chip {
            background: var(--accent-teal);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0.25rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .filter-chip:hover {
            background: var(--soft-sage);
            transform: translateY(-1px);
        }
        
        .category-tag {
            background: linear-gradient(135deg, var(--accent-teal), var(--soft-sage));
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-teal), var(--soft-sage));
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(45, 212, 191, 0.3);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--deep-charcoal);
            padding: 0.5rem 1rem;
            border: 2px solid var(--accent-teal);
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 0.875rem;
        }
        
        .btn-secondary:hover {
            background: var(--accent-teal);
            color: white;
        }
        
        .complexity-indicator {
            display: flex;
            gap: 2px;
        }
        
        .complexity-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #e5e7eb;
        }
        
        .complexity-dot.active {
            background: var(--accent-teal);
        }
        
        .search-container {
            position: relative;
        }
        
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            z-index: 10;
            max-height: 200px;
            overflow-y: auto;
            display: none;
        }
        
        .search-suggestion {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .search-suggestion:hover {
            background-color: #f3f4f6;
        }
        
        .comparison-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e5e7eb;
            box-shadow: 0 -10px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(100%);
            transition: transform 0.3s ease;
            z-index: 40;
        }
        
        .comparison-panel.active {
            transform: translateY(0);
        }
        
        .scroll-reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .scroll-reveal.revealed {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 nav-blur border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-br from-teal-400 to-green-400 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">LC</span>
                    </div>
                    <span class="text-xl font-bold gradient-text">Agent Store</span>
                </div>
                
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-gray-700 hover:text-teal-500 transition-colors font-medium">Home</a>
                    <a href="#" class="text-teal-500 font-medium">Browse Agents</a>
                    <a href="#" class="text-gray-700 hover:text-teal-500 transition-colors font-medium">Documentation</a>
                    <a href="#" class="text-gray-700 hover:text-teal-500 transition-colors font-medium">Community</a>
                </div>
                
                <div class="flex items-center space-x-4">
                    <button class="btn-primary">Submit Agent</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <section class="pt-24 pb-12 bg-gradient-to-br from-teal-50 to-green-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-8">
                <h1 class="text-4xl lg:text-5xl font-bold mb-4">
                    <span class="gradient-text">Browse Agents</span>
                </h1>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Discover 500+ LangChain AI agents built by the community. Filter by category, functionality, and complexity to find the perfect agent for your project.
                </p>
            </div>
            
            <!-- Search Bar -->
            <div class="max-w-2xl mx-auto search-container">
                <div class="relative">
                    <input type="text" id="agent-search" placeholder="Search agents by name, category, or functionality..." 
                           class="w-full pl-12 pr-4 py-4 text-lg border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent shadow-lg">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="h-6 w-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                </div>
                <div class="search-suggestions" id="search-suggestions"></div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <section class="py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Filter Sidebar -->
                <div class="lg:w-1/4">
                    <div class="filter-sidebar rounded-xl p-6 sticky top-24">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-bold">Filters</h3>
                            <button id="clear-filters" class="text-sm text-gray-500 hover:text-teal-500">Clear All</button>
                        </div>
                        
                        <!-- Active Filters -->
                        <div id="active-filters" class="mb-6 hidden">
                            <h4 class="text-sm font-semibold text-gray-700 mb-2">Active Filters</h4>
                            <div id="filter-chips" class="flex flex-wrap"></div>
                        </div>
                        
                        <!-- Category Filter -->
                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-gray-700 mb-3">Category</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded text-teal-500" value="react">
                                    <span class="ml-2 text-sm">ReAct Agents</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded text-teal-500" value="multi-agent">
                                    <span class="ml-2 text-sm">Multi-Agent Systems</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded text-teal-500" value="specialized">
                                    <span class="ml-2 text-sm">Specialized Tools</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded text-teal-500" value="autonomous">
                                    <span class="ml-2 text-sm">Autonomous Agents</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Functionality Filter -->
                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-gray-700 mb-3">Functionality</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="functionality-filter rounded text-teal-500" value="research">
                                    <span class="ml-2 text-sm">Research & Analysis</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="functionality-filter rounded text-teal-500" value="code">
                                    <span class="ml-2 text-sm">Code Generation</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="functionality-filter rounded text-teal-500" value="data">
                                    <span class="ml-2 text-sm">Data Processing</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="functionality-filter rounded text-teal-500" value="automation">
                                    <span class="ml-2 text-sm">Automation</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="functionality-filter rounded text-teal-500" value="nlp">
                                    <span class="ml-2 text-sm">Natural Language</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Complexity Filter -->
                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-gray-700 mb-3">Complexity</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="complexity-filter rounded text-teal-500" value="beginner">
                                    <span class="ml-2 text-sm">Beginner</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="complexity-filter rounded text-teal-500" value="intermediate">
                                    <span class="ml-2 text-sm">Intermediate</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="complexity-filter rounded text-teal-500" value="advanced">
                                    <span class="ml-2 text-sm">Advanced</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Popularity Filter -->
                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-gray-700 mb-3">Popularity</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="popularity-filter rounded text-teal-500" value="trending">
                                    <span class="ml-2 text-sm">Trending</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="popularity-filter rounded text-teal-500" value="popular">
                                    <span class="ml-2 text-sm">Most Popular</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="popularity-filter rounded text-teal-500" value="new">
                                    <span class="ml-2 text-sm">Recently Added</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Agents Grid -->
                <div class="lg:w-3/4">
                    <!-- Results Header -->
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <span id="results-count" class="text-lg font-semibold">Showing 24 of 500+ agents</span>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button id="compare-toggle" class="btn-secondary" disabled>
                                Compare (<span id="compare-count">0</span>)
                            </button>
                            <select id="sort-select" class="border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500">
                                <option value="relevance">Most Relevant</option>
                                <option value="popularity">Most Popular</option>
                                <option value="rating">Highest Rated</option>
                                <option value="recent">Recently Added</option>
                                <option value="name">Name A-Z</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Agents Grid -->
                    <div id="agents-grid" class="grid md:grid-cols-2 xl:grid-cols-3 gap-6">
                        <!-- Agent cards will be dynamically generated -->
                    </div>
                    
                    <!-- Load More -->
                    <div class="text-center mt-12">
                        <button id="load-more" class="btn-primary px-8 py-3">
                            Load More Agents
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Comparison Panel -->
    <div id="comparison-panel" class="comparison-panel">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold">Compare Agents</h3>
                <button id="close-comparison" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div id="comparison-content" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Comparison content will be dynamically generated -->
            </div>
            <div class="flex justify-center mt-6">
                <button id="compare-agents" class="btn-primary">Compare Selected Agents</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <div class="w-8 h-8 bg-gradient-to-br from-teal-400 to-green-400 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">LC</span>
                    </div>
                    <span class="text-xl font-bold">Agent Store</span>
                </div>
                <p class="text-gray-400 mb-4">Discover the future of AI agents</p>
                <p class="text-gray-500 text-sm">Â© 2025 LangChain Agent Store. Built with passion by the community.</p>
            </div>
        </div>
    </footer>

    <script src="main.js"></script>
    <script>
        // Agents page specific functionality
        class AgentsDirectory {
            constructor() {
                this.agents = this.generateMockAgents();
                this.filteredAgents = [...this.agents];
                this.selectedAgents = new Set();
                this.currentPage = 1;
                this.agentsPerPage = 24;
                
                this.init();
            }

            init() {
                this.renderAgents();
                this.setupFilters();
                this.setupSearch();
                this.setupComparison();
                this.setupSorting();
                this.setupLoadMore();
            }

            generateMockAgents() {
                const categories = ['react', 'multi-agent', 'specialized', 'autonomous'];
                const functionalities = ['research', 'code', 'data', 'automation', 'nlp'];
                const complexities = ['beginner', 'intermediate', 'advanced'];
                
                const agentNames = [
                    'ReAct Research Agent', 'Multi-Agent Coordinator', 'Code Analysis Agent', 'Data Science Agent',
                    'Social Media Agent', 'Email Assistant', 'Web Scraper Agent', 'Document Analyzer',
                    'Customer Support Agent', 'Content Generator', 'API Integration Agent', 'Database Manager',
                    'File Processing Agent', 'Image Recognition Agent', 'Voice Assistant', 'Chatbot Builder',
                    'Workflow Automator', 'Report Generator', 'Analytics Agent', 'Monitoring Agent',
                    'Security Scanner', 'Backup Manager', 'Notification Agent', 'Scheduler Agent'
                ];

                return agentNames.map((name, index) => ({
                    id: index + 1,
                    name: name,
                    description: `Advanced ${name.toLowerCase()} with cutting-edge capabilities for modern applications.`,
                    category: categories[Math.floor(Math.random() * categories.length)],
                    functionality: functionalities[Math.floor(Math.random() * functionalities.length)],
                    complexity: complexities[Math.floor(Math.random() * complexities.length)],
                    rating: (Math.random() * 2 + 3).toFixed(1), // 3.0 to 5.0
                    downloads: Math.floor(Math.random() * 5000) + 100,
                    trending: Math.random() > 0.7,
                    recent: Math.random() > 0.8,
                    tags: this.generateTags(),
                    author: this.generateAuthor(),
                    lastUpdated: this.generateDate()
                }));
            }

            generateTags() {
                const allTags = ['AI', 'ML', 'Automation', 'Research', 'Data', 'NLP', 'API', 'Cloud', 'Open Source', 'Enterprise'];
                return allTags.sort(() => 0.5 - Math.random()).slice(0, Math.floor(Math.random() * 3) + 2);
            }

            generateAuthor() {
                const authors = ['LangChain Team', 'Community', 'Enterprise User', 'AI Researcher', 'Developer'];
                return authors[Math.floor(Math.random() * authors.length)];
            }

            generateDate() {
                const days = Math.floor(Math.random() * 30);
                const date = new Date();
                date.setDate(date.getDate() - days);
                return date.toLocaleDateString();
            }

            renderAgents() {
                const grid = document.getElementById('agents-grid');
                const startIndex = (this.currentPage - 1) * this.agentsPerPage;
                const endIndex = startIndex + this.agentsPerPage;
                const agentsToShow = this.filteredAgents.slice(0, endIndex);

                grid.innerHTML = '';

                agentsToShow.forEach(agent => {
                    const card = this.createAgentCard(agent);
                    grid.appendChild(card);
                });

                this.updateResultsCount();
                this.setupAgentCardInteractions();
            }

            createAgentCard(agent) {
                const card = document.createElement('div');
                card.className = 'agent-card rounded-xl p-6 scroll-reveal';
                card.dataset.agentId = agent.id;

                const initials = agent.name.split(' ').map(word => word[0]).join('').substring(0, 2);
                const gradientColors = this.getGradientColors(agent.category);

                card.innerHTML = `
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-gradient-to-br ${gradientColors} rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold">${initials}</span>
                        </div>
                        <div class="flex items-center space-x-1">
                            <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                            </svg>
                            <span class="text-sm font-medium">${agent.rating}</span>
                        </div>
                    </div>
                    
                    <h3 class="text-xl font-bold mb-2">${agent.name}</h3>
                    <p class="text-gray-600 mb-4 text-sm leading-relaxed">${agent.description}</p>
                    
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="category-tag">${agent.category.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}</span>
                        <span class="category-tag">${agent.functionality.replace(/\b\w/g, l => l.toUpperCase())}</span>
                    </div>
                    
                    <div class="flex items-center justify-between mb-4">
                        <div class="complexity-indicator" title="${agent.complexity} complexity">
                            ${this.getComplexityDots(agent.complexity)}
                        </div>
                        <span class="text-sm text-gray-500">${agent.downloads.toLocaleString()} downloads</span>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2">
                            <input type="checkbox" class="agent-select rounded text-teal-500" data-agent-id="${agent.id}">
                            <span class="text-sm text-gray-500">Compare</span>
                        </div>
                        <div class="flex space-x-2">
                            <button class="btn-secondary text-xs px-3 py-1" onclick="agentsDirectory.viewAgentDetails(${agent.id})">View</button>
                            <button class="btn-primary text-xs px-3 py-1" onclick="agentsDirectory.installAgent(${agent.id})">Install</button>
                        </div>
                    </div>
                `;

                return card;
            }

            getGradientColors(category) {
                const gradients = {
                    'react': 'from-blue-400 to-purple-500',
                    'multi-agent': 'from-green-400 to-teal-500',
                    'specialized': 'from-orange-400 to-red-500',
                    'autonomous': 'from-indigo-400 to-blue-500'
                };
                return gradients[category] || 'from-gray-400 to-gray-500';
            }

            getComplexityDots(complexity) {
                const levels = { 'beginner': 1, 'intermediate': 2, 'advanced': 3 };
                const level = levels[complexity];
                let dots = '';
                for (let i = 0; i < 3; i++) {
                    dots += `<div class="complexity-dot ${i < level ? 'active' : ''}"></div>`;
                }
                return dots;
            }

            setupAgentCardInteractions() {
                document.querySelectorAll('.agent-card').forEach(card => {
                    // 3D tilt effect
                    card.addEventListener('mouseenter', (e) => {
                        anime({
                            targets: e.currentTarget,
                            rotateX: -5,
                            rotateY: 5,
                            scale: 1.02,
                            duration: 300,
                            easing: 'easeOutCubic'
                        });
                    });

                    card.addEventListener('mouseleave', (e) => {
                        anime({
                            targets: e.currentTarget,
                            rotateX: 0,
                            rotateY: 0,
                            scale: 1,
                            duration: 300,
                            easing: 'easeOutCubic'
                        });
                    });

                    card.addEventListener('mousemove', (e) => {
                        const rect = e.currentTarget.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const y = e.clientY - rect.top;
                        const centerX = rect.width / 2;
                        const centerY = rect.height / 2;
                        const rotateX = (y - centerY) / 10;
                        const rotateY = (centerX - x) / 10;

                        e.currentTarget.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
                    });
                });

                // Agent selection for comparison
                document.querySelectorAll('.agent-select').forEach(checkbox => {
                    checkbox.addEventListener('change', (e) => {
                        const agentId = parseInt(e.target.dataset.agentId);
                        if (e.target.checked) {
                            this.selectedAgents.add(agentId);
                        } else {
                            this.selectedAgents.delete(agentId);
                        }
                        this.updateComparisonPanel();
                    });
                });
            }

            setupFilters() {
                const filterTypes = ['category-filter', 'functionality-filter', 'complexity-filter', 'popularity-filter'];
                
                filterTypes.forEach(filterType => {
                    document.querySelectorAll(`.${filterType}`).forEach(checkbox => {
                        checkbox.addEventListener('change', () => this.applyFilters());
                    });
                });

                document.getElementById('clear-filters').addEventListener('click', () => {
                    document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
                    this.applyFilters();
                });
            }

            applyFilters() {
                const categoryFilters = Array.from(document.querySelectorAll('.category-filter:checked')).map(cb => cb.value);
                const functionalityFilters = Array.from(document.querySelectorAll('.functionality-filter:checked')).map(cb => cb.value);
                const complexityFilters = Array.from(document.querySelectorAll('.complexity-filter:checked')).map(cb => cb.value);
                const popularityFilters = Array.from(document.querySelectorAll('.popularity-filter:checked')).map(cb => cb.value);

                this.filteredAgents = this.agents.filter(agent => {
                    const categoryMatch = categoryFilters.length === 0 || categoryFilters.includes(agent.category);
                    const functionalityMatch = functionalityFilters.length === 0 || functionalityFilters.includes(agent.functionality);
                    const complexityMatch = complexityFilters.length === 0 || complexityFilters.includes(agent.complexity);
                    
                    let popularityMatch = popularityFilters.length === 0;
                    if (popularityFilters.includes('trending') && agent.trending) popularityMatch = true;
                    if (popularityFilters.includes('popular') && agent.downloads > 2000) popularityMatch = true;
                    if (popularityFilters.includes('new') && agent.recent) popularityMatch = true;

                    return categoryMatch && functionalityMatch && complexityMatch && popularityMatch;
                });

                this.currentPage = 1;
                this.renderAgents();
                this.updateActiveFilters();
            }

            updateActiveFilters() {
                const activeFiltersDiv = document.getElementById('active-filters');
                const filterChipsDiv = document.getElementById('filter-chips');
                const checkedFilters = document.querySelectorAll('input[type="checkbox"]:checked');

                if (checkedFilters.length > 0) {
                    activeFiltersDiv.classList.remove('hidden');
                    filterChipsDiv.innerHTML = '';

                    checkedFilters.forEach(filter => {
                        const chip = document.createElement('span');
                        chip.className = 'filter-chip';
                        chip.innerHTML = `${filter.value} <span onclick="this.parentElement.remove(); filter.closest('label').querySelector('input').checked = false; agentsDirectory.applyFilters();">&times;</span>`;
                        filterChipsDiv.appendChild(chip);
                    });
                } else {
                    activeFiltersDiv.classList.add('hidden');
                }
            }

            setupSearch() {
                const searchInput = document.getElementById('agent-search');
                const suggestionsDiv = document.getElementById('search-suggestions');
                
                let searchTimeout;
                searchInput.addEventListener('input', (e) => {
                    clearTimeout(searchTimeout);
                    searchTimeout = setTimeout(() => {
                        this.performSearch(e.target.value);
                    }, 300);
                });

                // Search suggestions
                searchInput.addEventListener('focus', () => {
                    this.showSearchSuggestions();
                });

                document.addEventListener('click', (e) => {
                    if (!e.target.closest('.search-container')) {
                        suggestionsDiv.style.display = 'none';
                    }
                });
            }

            performSearch(query) {
                if (query.length < 2) {
                    this.filteredAgents = [...this.agents];
                } else {
                    const searchTerm = query.toLowerCase();
                    this.filteredAgents = this.agents.filter(agent => 
                        agent.name.toLowerCase().includes(searchTerm) ||
                        agent.description.toLowerCase().includes(searchTerm) ||
                        agent.category.toLowerCase().includes(searchTerm) ||
                        agent.functionality.toLowerCase().includes(searchTerm) ||
                        agent.tags.some(tag => tag.toLowerCase().includes(searchTerm))
                    );
                }

                this.currentPage = 1;
                this.renderAgents();
            }

            showSearchSuggestions() {
                const suggestionsDiv = document.getElementById('search-suggestions');
                const suggestions = [
                    'ReAct Agent', 'Multi-Agent System', 'Code Analysis', 'Data Science',
                    'Social Media', 'Email Assistant', 'Web Scraper', 'Document Analyzer'
                ];

                suggestionsDiv.innerHTML = suggestions.map(suggestion => 
                    `<div class="search-suggestion" onclick="document.getElementById('agent-search').value = '${suggestion}'; agentsDirectory.performSearch('${suggestion}');">${suggestion}</div>`
                ).join('');

                suggestionsDiv.style.display = 'block';
            }

            setupComparison() {
                const compareToggle = document.getElementById('compare-toggle');
                const comparisonPanel = document.getElementById('comparison-panel');
                const closeComparison = document.getElementById('close-comparison');
                const compareAgents = document.getElementById('compare-agents');

                compareToggle.addEventListener('click', () => {
                    comparisonPanel.classList.add('active');
                });

                closeComparison.addEventListener('click', () => {
                    comparisonPanel.classList.remove('active');
                });

                compareAgents.addEventListener('click', () => {
                    this.showComparisonModal();
                });
            }

            updateComparisonPanel() {
                const compareToggle = document.getElementById('compare-toggle');
                const compareCount = document.getElementById('compare-count');
                const comparisonContent = document.getElementById('comparison-content');

                compareCount.textContent = this.selectedAgents.size;
                compareToggle.disabled = this.selectedAgents.size === 0;

                comparisonContent.innerHTML = '';

                this.selectedAgents.forEach(agentId => {
                    const agent = this.agents.find(a => a.id === agentId);
                    if (agent) {
                        const comparisonCard = document.createElement('div');
                        comparisonCard.className = 'bg-gray-50 rounded-lg p-4';
                        comparisonCard.innerHTML = `
                            <h4 class="font-semibold mb-2">${agent.name}</h4>
                            <p class="text-sm text-gray-600 mb-2">${agent.description.substring(0, 100)}...</p>
                            <div class="flex justify-between text-sm">
                                <span>Rating: ${agent.rating}</span>
                                <span>${agent.downloads} downloads</span>
                            </div>
                        `;
                        comparisonContent.appendChild(comparisonCard);
                    }
                });
            }

            showComparisonModal() {
                if (this.selectedAgents.size < 2) {
                    alert('Please select at least 2 agents to compare');
                    return;
                }

                // Create comparison modal
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
                modal.innerHTML = `
                    <div class="bg-white rounded-xl p-8 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-3xl font-bold gradient-text">Agent Comparison</h2>
                            <button class="text-gray-400 hover:text-gray-600 text-2xl" onclick="this.closest('.fixed').remove()">&times;</button>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-${this.selectedAgents.size} gap-6">
                            ${Array.from(this.selectedAgents).map(agentId => {
                                const agent = this.agents.find(a => a.id === agentId);
                                return `
                                    <div class="border border-gray-200 rounded-lg p-6">
                                        <h3 class="text-xl font-bold mb-4">${agent.name}</h3>
                                        <div class="space-y-4">
                                            <div>
                                                <strong>Category:</strong> ${agent.category.replace('-', ' ')}
                                            </div>
                                            <div>
                                                <strong>Functionality:</strong> ${agent.functionality}
                                            </div>
                                            <div>
                                                <strong>Complexity:</strong> ${agent.complexity}
                                            </div>
                                            <div>
                                                <strong>Rating:</strong> ${agent.rating}/5.0
                                            </div>
                                            <div>
                                                <strong>Downloads:</strong> ${agent.downloads.toLocaleString()}
                                            </div>
                                            <div>
                                                <strong>Last Updated:</strong> ${agent.lastUpdated}
                                            </div>
                                            <div>
                                                <strong>Tags:</strong> ${agent.tags.join(', ')}
                                            </div>
                                            <button class="btn-primary w-full mt-4" onclick="agentsDirectory.viewAgentDetails(${agent.id})">View Details</button>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;

                document.body.appendChild(modal);
            }

            setupSorting() {
                document.getElementById('sort-select').addEventListener('change', (e) => {
                    const sortBy = e.target.value;
                    this.sortAgents(sortBy);
                });
            }

            sortAgents(sortBy) {
                switch (sortBy) {
                    case 'popularity':
                        this.filteredAgents.sort((a, b) => b.downloads - a.downloads);
                        break;
                    case 'rating':
                        this.filteredAgents.sort((a, b) => parseFloat(b.rating) - parseFloat(a.rating));
                        break;
                    case 'recent':
                        this.filteredAgents.sort((a, b) => new Date(b.lastUpdated) - new Date(a.lastUpdated));
                        break;
                    case 'name':
                        this.filteredAgents.sort((a, b) => a.name.localeCompare(b.name));
                        break;
                    default:
                        // Relevance - keep current order
                        break;
                }

                this.renderAgents();
            }

            setupLoadMore() {
                document.getElementById('load-more').addEventListener('click', () => {
                    this.currentPage++;
                    this.renderAgents();
                });
            }

            updateResultsCount() {
                const resultsCount = document.getElementById('results-count');
                const showing = Math.min(this.currentPage * this.agentsPerPage, this.filteredAgents.length);
                resultsCount.textContent = `Showing ${showing} of ${this.filteredAgents.length} agents`;
            }

            viewAgentDetails(agentId) {
                const agent = this.agents.find(a => a.id === agentId);
                if (agent) {
                    // Create detailed view modal
                    const modal = document.createElement('div');
                    modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
                    modal.innerHTML = `
                        <div class="bg-white rounded-xl p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                            <div class="flex justify-between items-start mb-6">
                                <h2 class="text-3xl font-bold gradient-text">${agent.name}</h2>
                                <button class="text-gray-400 hover:text-gray-600 text-2xl" onclick="this.closest('.fixed').remove()">&times;</button>
                            </div>
                            <div class="grid md:grid-cols-2 gap-8">
                                <div>
                                    <h3 class="text-xl font-bold mb-4">Overview</h3>
                                    <p class="text-gray-600 mb-6">${agent.description}</p>
                                    
                                    <div class="space-y-3">
                                        <div><strong>Category:</strong> ${agent.category.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}</div>
                                        <div><strong>Functionality:</strong> ${agent.functionality.replace(/\b\w/g, l => l.toUpperCase())}</div>
                                        <div><strong>Complexity:</strong> ${agent.complexity.replace(/\b\w/g, l => l.toUpperCase())}</div>
                                        <div><strong>Rating:</strong> ${agent.rating}/5.0</div>
                                        <div><strong>Downloads:</strong> ${agent.downloads.toLocaleString()}</div>
                                        <div><strong>Author:</strong> ${agent.author}</div>
                                        <div><strong>Last Updated:</strong> ${agent.lastUpdated}</div>
                                    </div>
                                    
                                    <div class="mt-6">
                                        <strong>Tags:</strong>
                                        <div class="flex flex-wrap gap-2 mt-2">
                                            ${agent.tags.map(tag => `<span class="category-tag">${tag}</span>`).join('')}
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h3 class="text-xl font-bold mb-4">Installation</h3>
                                    <div class="bg-gray-100 p-4 rounded-lg font-mono text-sm mb-6">
                                        pip install ${agent.name.toLowerCase().replace(/\s+/g, '-')}
                                    </div>
                                    
                                    <h3 class="text-xl font-bold mb-4">Quick Start</h3>
                                    <div class="bg-gray-100 p-4 rounded-lg font-mono text-sm">
                                        from ${agent.name.toLowerCase().replace(/\s+/g, '_')} import Agent<br>
                                        <br>
                                        agent = Agent()<br>
                                        result = agent.run("Your task here")<br>
                                        print(result)
                                    </div>
                                    
                                    <div class="flex space-x-4 mt-6">
                                        <button class="btn-primary flex-1" onclick="agentsDirectory.installAgent(${agent.id})">Install Agent</button>
                                        <button class="btn-secondary flex-1" onclick="alert('Documentation coming soon!')">View Docs</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;

                    document.body.appendChild(modal);
                }
            }

            installAgent(agentId) {
                const agent = this.agents.find(a => a.id === agentId);
                if (agent) {
                    const installCommand = `pip install ${agent.name.toLowerCase().replace(/\s+/g, '-')}`;
                    
                    // Copy to clipboard
                    navigator.clipboard.writeText(installCommand).then(() => {
                        window.agentStore.showNotification('Installation command copied to clipboard!', 'success');
                    }).catch(() => {
                        window.agentStore.showNotification('Installation command: ' + installCommand, 'info');
                    });
                }
            }
        }

        // Initialize agents directory when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.agentsDirectory = new AgentsDirectory();
        });
    </script>
</body>
</html>